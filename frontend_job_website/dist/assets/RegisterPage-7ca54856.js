import{r as n,j as e,e as R,f as u,a as h,b as L}from"./index-e1fbee09.js";import{L as m,S}from"./Social-5430ae8a.js";const P=()=>{const l=["Please confirm your new account bt clicking on the link submitted","Go to Login enter new already account."];return n.useEffect(()=>{setTimeout(()=>{window.location.href="/login"},2e3)}),e.jsx(e.Fragment,{children:e.jsxs(m,{children:[e.jsxs("div",{className:"flex flex-col items-center justify-items-center",children:[e.jsxs("div",{className:"logo flex flex-col items-center justify-items-center",children:[e.jsx("img",{src:R,alt:"",className:"w-24 h-24"}),e.jsx("h2",{className:"font-mono text-[30px] tracking-widest",children:"Thanks for Register"})]}),e.jsx("div",{className:"py-2 w-2/3 text-center",children:e.jsx("span",{className:"font-thin tracking-widest",children:"Welcome to JobHunter! Your personal link activation has been sent to your Email address"})})]}),e.jsxs("div",{className:"grid place-content-center",children:[e.jsx("h1",{className:"py-4 pl-4 font-normal text-xl",children:"What is next ?"}),e.jsx("div",{className:"flex flex-col gap-10",children:e.jsx("div",{className:"flex gap-5 items-start flex-col w-[450px] max-sm:w-[300px]",children:l==null?void 0:l.map((o,t)=>e.jsxs("div",{className:"flex items-center gap-2 ",children:[e.jsx("span",{className:"w-[20px] h-[20px] mx-4 p-4 text-white rounded-full bg-[#000084] grid place-content-center",children:t+1}),e.jsx("span",{className:"font-normal leading-relaxed ",children:o})]},t))})})]})]})})},p=({Title:l,setIsRegistered:o})=>{const t=u(),r=new URLSearchParams(t.search).get("role");console.log(r);const[s,f]=n.useState({name:"",email:"",password:"",rePassword:"",role:{roleName:"User"}}),[j,k]=n.useState(!1),[g,d]=n.useState(!1),[N,w]=n.useState("");n.useEffect(()=>{h.get("http://localhost:9000/Users").then(c=>{let a;do a=y();while(c.data.includes());w(a)})},[]);const v=async()=>{d(!0);const c={name:s.name,email:s.email,password:s.password,role:{role_id:N,roleName:"User"}};await h.post("http://localhost:9000/Users",c).then(a=>{d(!1),console.log("success",a.data),o(!0)}).catch(a=>{d(!0),console.log(a)})};function y(){return"id_"+Math.random().toString(36).substr(2,9)}const i=c=>{const{name:a,value:b}=c.target;f({...s,[a]:b})};return e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"absolute top-6 right-14",children:["Have already account?",e.jsx(L,{to:"/login",className:"text-[#000084] cursor-pointer",children:"Login"})]}),e.jsxs("div",{className:"box-login w-[23rem] ",children:[e.jsx("h1",{className:"text-2xl font-semibold font-serif pb-7",children:l}),j&&e.jsx("p",{className:"text-red-600",children:"Đăng nhập thất bại. Vui lòng kiểm tra lại email và mật khẩu."}),g&&e.jsx("span",{children:"Loader"}),e.jsxs("div",{className:"form-login w-full ",children:[e.jsxs("div",{className:"flex flex-col py-2",children:[e.jsx("label",{htmlFor:"",className:"font-normal text-x",children:"Name"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",name:"name",placeholder:"Your name",className:"pl-3 w-full h-[40px] rounded-md",value:s.name,onChange:i})})]}),e.jsxs("div",{className:"flex flex-col py-2",children:[e.jsx("label",{htmlFor:"",className:"font-normal text-x",children:"Email"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"pl-3 w-full h-[40px] rounded-md",value:s.email,onChange:i})})]}),e.jsxs("div",{className:"flex flex-col py-2",children:[e.jsx("label",{htmlFor:"",className:"font-normal text-x",children:"Password"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"password",name:"password",placeholder:"Your Password",className:"pl-3 w-full h-[40px] rounded-md",value:s.password,onChange:i})})]}),e.jsxs("div",{className:"flex flex-col py-2",children:[e.jsx("label",{htmlFor:"",className:"font-normal text-x",children:"Re-enter Password"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"password",name:"rePassword",placeholder:"Re-enter password",className:"pl-3 w-full h-[40px] rounded-md",value:s.rePassword,onChange:i})})]}),e.jsx("button",{className:"bg-[#133FA0] w-full h-12 rounded-md text-white my-3 text-[1.2rem] font-normal",onClick:v,children:"Register"}),e.jsxs("div",{className:"flex items-center w-full ",children:[e.jsx("span",{className:"flex-grow-[1] h-[1px] bg-slate-500 mx-2 opacity-40"}),e.jsx("span",{className:"uppercase font-semibold",children:"OR"}),e.jsx("span",{className:"flex-grow-[1] h-[1px] bg-slate-500 mx-2 opacity-40"})]})]}),e.jsx(S,{})]})]})},C=()=>{const l=u(),[o,t]=n.useState(!1),x=new URLSearchParams(l.search).get("role");let r;return o?r=e.jsx(P,{}):x==="Employer"?r=e.jsx(m,{children:e.jsx(p,{Title:"Register for Employer",setIsRegistered:t})}):r=e.jsx(m,{children:e.jsx(p,{Title:"Register for Candidate",setIsRegistered:t})}),e.jsx(e.Fragment,{children:r})};export{C as default};
